<?phpif (!defined('BASEPATH'))    exit('No direct script access allowed');if (!function_exists('busca_vagas_data')) {    function busca_vagas_data($data) {                            $CI = & get_instance();                        $total_vagas = $data->Vagas_txf;            $ocupadas = $CI->mbc->executa_sql("select * from datas_ocupacao where Id_data={$data->Id_int}");            if ($ocupadas[0]) {                $vagas_ocupadas = count($ocupadas);            } else {                $vagas_ocupadas = 0;            }            $total = $total_vagas - $vagas_ocupadas;            return $total;            }}if (!function_exists                ('busca_vagas_restantes')) {    function busca_vagas_restantes($id_promocao) {        $CI = & get_instance();        $promocao = $CI->mbc->executa_sql("select * from promocoes where Id_int={$id_promocao}");        $total_vagas = $promocao[0]->Vagas_txf;        $ocupadas = $CI->mbc->executa_sql("select * from inscricoes where Namespace_empresa_txf='{$promocao[0]->Namespace_empresa_sel}'	and Namespace_promocao_txf='{$promocao[0]->Namespace_promocao_txf}'");        if ($ocupadas[0]) {            $vagas_ocupadas = count($ocupadas);        } else {            $vagas_ocupadas = 0;        }        $total = $total_vagas - $vagas_ocupadas;        return $total;    }}if (!function_exists('verifica_data_promocao')) {    function verifica_status_promocao($id_promocao) {        $data_atual = date('Y-m-d');        $CI = & get_instance();        $promocao = $CI->mbc->executa_sql("select * from promocoes where Id_int={$id_promocao}");        $inicio = $promocao[0]->Inicio_dat;        $fim = $promocao[0]->Fim_dat;        if ($data_atual < $inicio) {            return 'aguarde';        }        if ($data_atual > $fim) {            return 'encerrado';        }        if ($data_atual >= $inicio && $data_atual <= $fim) {            return 'valendo';        }    }}